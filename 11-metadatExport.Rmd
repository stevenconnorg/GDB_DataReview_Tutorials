# Batch Export XML Metadata to Directory {#exMeta}


## Overview
This tool provides an automated method to export metadata for each Feature Dataset and Feature Class (within Feature Datasets) in the input geodatabase, by exporting each item's metadata to an .xml file to an output directory, as specified. This tool allows you to specify a metadata translator. Within the scope of the Department of Defense Instruction (DoDI) 8130.01, it is recommended that you download and install the SDSFIE-M Metadata Style for ArcGIS from [The Spatial Data Standards for Facilities, Infrastructure, and Environment (SDSFIE) Metadata standard](https://www.sdsfieonline.org/Standards/Metadata). In this case, you would change the input the metadata translator to the ARCGIS2SDSFIE-M.xml^[Under standard Windows installations, this should be located at "C:/Program Files (x86)/ArcGIS/Desktop10.6/Metadata/Translator/ARCGIS2SDSFIE-M.xml".] provided with the SDSFIE-M Metadata Style for ArcGIS software.^[Be sure to install the software to the software path for your ArcGIS distribution currently installed to view this metadata style within ArcCatalog, for example: "C:/Program Files (x86)/ArcGIS/Desktop10.X/" 

If the source metadata is a Feature Dataset, the output .xml file is named after the Feature Dataset. Alternatively, the output .xml metadata for Feature Classes are exported with the Feature Dataset name prepended before the Feature Class name.

These output .xml files can more easily be edited in batch using the [Batch Metadata Modifier Tool](http://insideidaho.org/helpdocs/batch_metadata_modifier_tool.html) developed out of the University of Idaho's Interactive Numeric & Spatial Information Data Engine (INSIDE) geospatial data clearinghouse.

## Parameters
The tool has 3 parameters:  

1. **Input Geodatabase (data type: Workspace/File Geodatabase)** - The input geodatabase to export Feature Dataset/Feature Class metadata from.
2. **Metadata Translator  (data type: .XML file)** - The metadata translator to be used to create output .xml metadata files. These files are typically located at "C:/Program Files (x86)/ArcGIS/[Desktop10.x]/Metadata/Translator/. Please change according to your ArcGIS installation file path. 
3. **Output Directory (data type: Folder)** - The folder within which to write output .xml metadata files.

## How to Use
### Begin by opening the toolbox  
Navigate to the location of the script toolbox, then right-click the 'Batch Export Metadata to Directory' script tool to open (Fig. \@ref(fig:exMetaopen)).
```{r exMetaopen, cache=FALSE,echo=FALSE,message=FALSE,error=FALSE,warning=FALSE,fig.cap="Opening the Batch Export Metadata tool",fig.align = 'center'}
knitr::include_graphics("figures/exMeta-open.jpg",auto_pdf = TRUE)
```
###  Fill out the parameters 
Next, fill out the parameters for the tool. Here, we want to export metadata for all Feature Datasets and all Feature Classes (within those Feature Datasets) within the Example.gdb geodatabase using the default ARCGIS2FGDC metadata translator that comes with ArcGIS to a new directory called 'metadata' (Fig. \@ref(fig:exMetaparams)). 
```{r exMetaparams, cache=FALSE,echo=FALSE,message=FALSE,error=FALSE,warning=FALSE,fig.cap="Batch Export Metadata tool parameters",fig.align = 'center'}
knitr::include_graphics("figures/exMeta-params.jpg",auto_pdf = TRUE)
```
## Run the Tool and View Results
After running the tool, we can view the output metadata files inside the output directory specified (Fig. \@ref(fig:exMetaafter)). For Feature Classes, the output .xml files has the associated Feature Dataset name prepended to the filename, while Feature Dataset metadata file is simply the name of the Feature Dataset.

```{r exMetaafter, cache=FALSE,echo=FALSE,message=FALSE,error=FALSE,warning=FALSE,fig.cap="Batch Export Metadata output .xml files for each Feature Dataset/Feature Class",fig.align = 'center'}
knitr::include_graphics("figures/exMeta-after.jpg",auto_pdf = TRUE)
```
